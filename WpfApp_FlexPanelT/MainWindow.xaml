<Window x:Class="WpfApp_FlexPanelT.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp_FlexPanelT"
        mc:Ignorable="d"
        d:DataContext="{d:DesignInstance Type=local:MainUI}"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:qpanel="clr-namespace:QSoft.WPF.Panel;assembly=QSoft.WPF.Panel"
        Loaded="Window_Loaded"
        Title="FlexPanel test site" Height="400" Width="600">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition MinWidth="150" Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <qpanel:FlexPanel FlexDirection="Column" AlignItems="Stretch" Gap="5">
            <!--<Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>-->
            <Button x:Name="button_addflex" Click="button_addflex_Click">Add Flex Item</Button>
            <TabControl x:Name="tabcontrol" qpanel:FlexPanel.Grow="1" Grid.Row="1" >
                <TabItem Header="Container">
                    <qpanel:FlexPanel FlexDirection="Column" Gap="8" AlignItems="Stretch">
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Flex-direction"/>
                            <ComboBox SelectedValuePath="Tag" SelectedValue="{Binding FlexDirection, ElementName=flexpanel}">
                                <ComboBoxItem Content="Row" Tag="{x:Static qpanel:FlexDirection.Row}"/>
                                <ComboBoxItem Content="Column" Tag="{x:Static qpanel:FlexDirection.Column}"/>
                            </ComboBox>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Justify-content"/>
                            <ComboBox SelectedValuePath="Tag" SelectedValue="{Binding JustifyContent, ElementName=flexpanel}">
                                <ComboBoxItem Content="Start" Tag="{x:Static qpanel:JustifyContent.Start}"/>
                                <ComboBoxItem Content="Center" Tag="{x:Static qpanel:JustifyContent.Center}"/>
                                <ComboBoxItem Content="End" Tag="{x:Static qpanel:JustifyContent.End}"/>
                                <ComboBoxItem Content="SpaceAround" Tag="{x:Static qpanel:JustifyContent.SpaceAround}"/>
                                <ComboBoxItem Content="SpaceBetween" Tag="{x:Static qpanel:JustifyContent.SpaceBetween}"/>
                                <ComboBoxItem Content="SpaceEvenly" Tag="{x:Static qpanel:JustifyContent.SpaceEvenly}"/>
                            </ComboBox>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Align-items"/>
                            <ComboBox SelectedValuePath="Tag" SelectedValue="{Binding AlignItems, ElementName=flexpanel}">
                                <ComboBoxItem Content="Start" Tag="{x:Static qpanel:AlignItems.Start}"/>
                                <ComboBoxItem Content="Center" Tag="{x:Static qpanel:AlignItems.Center}"/>
                                <ComboBoxItem Content="End" Tag="{x:Static qpanel:AlignItems.End}"/>
                                <ComboBoxItem Content="Stretch" Tag="{x:Static qpanel:AlignItems.Stretch}"/>
                            </ComboBox>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Gap"/>
                            <TextBox InputMethod.IsInputMethodEnabled="False" Text="{Binding Gap, ElementName=flexpanel, UpdateSourceTrigger=PropertyChanged}"/>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Padding"/>
                            <TextBox Text="{Binding Padding, ElementName=flexpanel, UpdateSourceTrigger=PropertyChanged}"/>
                        </qpanel:FlexPanel>
                        <CheckBox x:Name="checkbox_ishowscrollbar" IsChecked="True" Click="checkbox_ishowscrollbar_Click">Scrollbar</CheckBox>
                    </qpanel:FlexPanel>
                </TabItem>
                <TabItem Header="Item">
                    <i:Interaction.Triggers>
                        <i:DataTrigger Binding="{Binding ItemData}" Value="{x:Null}">
                            <i:ChangePropertyAction TargetName="flexpanel_itemdata" PropertyName="Visibility" Value="Hidden"/>
                        </i:DataTrigger>
                        <i:DataTrigger Binding="{Binding ItemData}" Comparison="NotEqual" Value="{x:Null}">
                            <i:ChangePropertyAction TargetName="flexpanel_itemdata" PropertyName="Visibility" Value="Visible"/>
                        </i:DataTrigger>
                    </i:Interaction.Triggers>

                    <qpanel:FlexPanel Padding="1,0,3,0" x:Name="flexpanel_itemdata"  FlexDirection="Column" Gap="8" AlignItems="Stretch">
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Flex-Grow"/>
                            <TextBox x:Name="textbox_flexgrow" TextChanged="textbox_flexgrow_TextChanged" Text="{Binding ItemData.FlexGrow, UpdateSourceTrigger=PropertyChanged}"/>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Flex-Shrink"/>
                            <TextBox x:Name="textbox_flexshrink"  Text="{Binding ItemData.FlexShrink, UpdateSourceTrigger=PropertyChanged}"/>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Flex-Basis"/>
                            <TextBox x:Name="textbox_flexbasis" InputMethod.IsInputMethodEnabled="False" TextChanged="textbox_flexbasis_TextChanged" Text="{Binding ItemData.FlexBasis, UpdateSourceTrigger=PropertyChanged}"/>
                        </qpanel:FlexPanel>
                        <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                            <TextBlock Text="Align-Self"/>
                            <ComboBox x:Name="combobox_alighself" SelectionChanged="combobox_alighself_SelectionChanged" SelectedValuePath="Tag" SelectedValue="{Binding ItemData.AlignSelf}">
                                <ComboBoxItem Content="Auto" Tag="{x:Static qpanel:AlignSelf.Auto}"/>
                                <ComboBoxItem Content="Start" Tag="{x:Static qpanel:AlignSelf.Start}"/>
                                <ComboBoxItem Content="End" Tag="{x:Static qpanel:AlignSelf.End}"/>
                                <ComboBoxItem Content="Center" Tag="{x:Static qpanel:AlignSelf.Center}"/>
                                <ComboBoxItem Content="Stretch" Tag="{x:Static qpanel:AlignSelf.Stretch}"/>
                            </ComboBox>
                        </qpanel:FlexPanel>
                        

                        <qpanel:FlexPanel Gap="3">
                            <qpanel:FlexPanel qpanel:FlexPanel.Grow="1" FlexDirection="Column" AlignItems="Stretch">
                                <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                                    <TextBlock Text="MinWidth"/>
                                    <TextBox x:Name="textbox_minwidth" InputMethod.IsInputMethodEnabled="False" TextChanged="textbox_minwidth_TextChanged" Text="{Binding ItemData.MinWidth, UpdateSourceTrigger=PropertyChanged}" />
                                </qpanel:FlexPanel>
                                <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                                    <TextBlock Text="MaxWidth"/>
                                    <TextBox x:Name="textbox_maxwidth" InputMethod.IsInputMethodEnabled="False" TextChanged="textbox_maxwidth_TextChanged" Text="{Binding ItemData.MaxWidth, UpdateSourceTrigger=PropertyChanged}" />
                                </qpanel:FlexPanel>
                                <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                                    <TextBlock Text="Width"/>
                                    <TextBox x:Name="textbox_width" TextChanged="textbox_width_TextChanged" Text="{Binding ItemData.Width, UpdateSourceTrigger=PropertyChanged}" />
                                </qpanel:FlexPanel>
                            </qpanel:FlexPanel>
                            <qpanel:FlexPanel FlexDirection="Column" qpanel:FlexPanel.Grow="1" Grid.Column="1" AlignItems="Stretch">
                                <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                                    <TextBlock Text="MinHieght"/>
                                    <TextBox x:Name="textbox_minheight" InputMethod.IsInputMethodEnabled="False" TextChanged="textbox_minheight_TextChanged" Text="{Binding ItemData.MinHeight, UpdateSourceTrigger=PropertyChanged}" />
                                </qpanel:FlexPanel>
                                <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                                    <TextBlock Text="MaxHieght"/>
                                    <TextBox x:Name="textbox_maxheight" InputMethod.IsInputMethodEnabled="False" TextChanged="textbox_maxheight_TextChanged" Text="{Binding ItemData.MaxHeight, UpdateSourceTrigger=PropertyChanged}" />
                                </qpanel:FlexPanel>
                                <qpanel:FlexPanel Gap="3" FlexDirection="Column" AlignItems="Stretch">
                                    <TextBlock Text="Hieght"/>
                                    <TextBox x:Name="textbox_height" TextChanged="textbox_height_TextChanged" Text="{Binding ItemData.Height, UpdateSourceTrigger=PropertyChanged}" />
                                </qpanel:FlexPanel>
                            </qpanel:FlexPanel>

                        </qpanel:FlexPanel>
                        
                    </qpanel:FlexPanel>
                </TabItem>
            </TabControl>

        </qpanel:FlexPanel>
        <GridSplitter Grid.Column="1" Width="2" HorizontalAlignment="Center" VerticalAlignment="Stretch" Background="Gray"/>
        <ScrollViewer Padding="3" Background="Gray" x:Name="scollviwer_panel" Grid.Column="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <qpanel:FlexPanel FlexDirection="Row" x:Name="flexpanel" Grid.Column="2">
                <qpanel:FlexPanel.Background>
                    <SolidColorBrush Color="{local:Oklch 0.21, 0.034, 264.665}"/>
                </qpanel:FlexPanel.Background>

            </qpanel:FlexPanel>

        </ScrollViewer>
        <!--<ItemsControl Grid.Column="2" x:Name="itemscontrol_flexpanel">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <local:FlexItem DataContext="{Binding}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <qpanel:FlexPanel x:Name="flexpanel" FlexDirection="Row"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>-->
    </Grid>
</Window>
